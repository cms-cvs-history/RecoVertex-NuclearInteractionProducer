process NUCLEAR =  {
    service = MessageLogger
    {
                untracked vstring destinations = { "cout", "out" } # .log automatically
              #  untracked vstring statistics = { "cout", "nuclearseeding"}

                untracked vstring categories = { "NuclearSeedGenerator", "CkfPattern", "NuclearInteractionMaker" }
              #  untracked vstring categories = { "CkfPattern", "NuclearInteractionMaker" }

                untracked PSet out    = {
                        untracked string threshold = "DEBUG"
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked PSet NuclearSeedGenerator = { untracked int32 limit = -1}
                        untracked PSet CkfPattern = { untracked int32 limit = -1}
                        untracked PSet NuclearInteractionMaker = { untracked int32 limit = -1}
                        untracked bool noLineBreaks = true
                }
                untracked vstring debugModules = { "nuclearSeed", "ckfTrackCandidates" , "nuclearInteractionMaker"}

                untracked PSet cout  = {
                        untracked string threshold = "INFO"
                        untracked PSet INFO = { untracked int32 limit = 0 }
                        untracked PSet WARNING = { untracked int32 limit = 0 }
                        untracked PSet ERROR = { untracked int32 limit = 0 }
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked bool noLineBreaks = true
                }

    }

    source = PoolSource
    {
      untracked vstring fileNames = {
              '/store/mc/2008/1/13/RelVal-RelValTTbar-1200264627/0000/2AC3C463-4EC2-DC11-BD87-000423D98804.root'}
    }
replace PoolSource.fileNames = {
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/02BF3958-8C05-DD11-9248-000423D98844.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/6A6A140A-9705-DD11-8AE4-000423D6BA18.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/7C36074D-9705-DD11-AB0B-000423D98E6C.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/D2988D7E-9005-DD11-84AB-0030485617B8.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/E4EB3BA8-8F05-DD11-8DB3-003048562766.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/F61ED4B2-8E05-DD11-8B73-001617C3B6DE.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0001/FEC9C0BF-9605-DD11-B99F-000423D996B4.root',
'/store/relval/2008/4/8/RelVal-RelValSinglePiPt10-1207529107-HLT/0002/CE682766-9805-DD11-9DAF-000423D8F63C.root'
}


    untracked PSet maxEvents = {untracked int32 input = 20}

   include "Configuration/StandardSequences/data/FakeConditions.cff"

    # Refitter
    include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
    replace TrackRefitter.TrajectoryInEvent = true

    # Nuclear Seeding
    include "RecoVertex/NuclearInteractionProducer/data/NuclearInteraction.cff"

    #Tracking truth
    include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"
    replace trackingtruthprod.HepMCDataLabels = {"source"}

    include "RecoVertex/BeamSpotProducer/data/BeamSpot.cfi"

    module dump = EventContentAnalyzer{}

    module Out = PoolOutputModule
    {
     untracked string fileName = "file:single_pi_10gev.root"
     untracked vstring outputCommands = {
           "drop *",
           "keep CrossingFrame_*_*_*",
           "keep *_siStripDigis_*_*",
           "keep *_siPixelDigis_*_*",
           "keep *_siPixelClusters_*_*",
           "keep *_siStripClusters_*_*",
           "keep *_*_*_NUCLEAR",
           "keep *_trackingtruthprod_*_*"
#           "keep *_source_*_*"
     }
    }

   path p = { offlineBeamSpot, TrackRefitter, nuclear_interaction}

    #path p = { dump }

   endpath e =
   {
     Out
   }
}
