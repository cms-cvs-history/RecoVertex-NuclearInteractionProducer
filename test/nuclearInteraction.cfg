process NUCLEAR =  {
    service = MessageLogger
    {
                untracked vstring destinations = { "cout", "out" } # .log automatically
              #  untracked vstring statistics = { "cout", "nuclearseeding"}

              #  untracked vstring categories = { "NuclearSeedGenerator", "CkfPattern", "NuclearInteractionMaker" }
                untracked vstring categories = { "CkfPattern", "NuclearInteractionMaker" }

                untracked PSet out    = {
                        untracked string threshold = "DEBUG"
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked PSet NuclearSeedGenerator = { untracked int32 limit = -1}
                        untracked PSet CkfPattern = { untracked int32 limit = -1}
                        untracked PSet NuclearInteractionMaker = { untracked int32 limit = -1}
                        untracked bool noLineBreaks = true
                }
                untracked vstring debugModules = { "nuclearSeed", "ckfTrackCandidates" , "nuclearInteractionMaker"}

                untracked PSet cout  = {
                        untracked string threshold = "INFO"
                        untracked PSet INFO = { untracked int32 limit = 0 }
                        untracked PSet WARNING = { untracked int32 limit = 0 }
                        untracked PSet ERROR = { untracked int32 limit = 0 }
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked bool noLineBreaks = true
                }

    }

    source = PoolSource
    {
      untracked vstring fileNames = {
              '/store/mc/2008/1/13/RelVal-RelValTTbar-1200264627/0000/2AC3C463-4EC2-DC11-BD87-000423D98804.root'}
    }
replace PoolSource.fileNames = {
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0000/48908CD6-7C04-DD11-A12F-001617DBCF1E.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0000/62B2E0AA-7C04-DD11-8D66-001617DBCF1E.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0000/C09D25A4-7704-DD11-BF58-000423D9A212.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0000/E84704BC-7C04-DD11-B8FE-000423D99AAE.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0001/0279EA0A-6A05-DD11-9CF8-001617C3B64C.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0001/B6069D0A-6705-DD11-AE28-001617E30D0A.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0001/C608C6F7-6605-DD11-B199-000423D98800.root',
'/store/relval/2008/4/7/RelVal-RelValSinglePiPt10-1207529107/0001/F236E0CE-6605-DD11-BF4C-000423D944FC.root'
}


    untracked PSet maxEvents = {untracked int32 input = 20}

   include "Configuration/StandardSequences/data/FakeConditions.cff"

    # Refitter
    include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
    replace TrackRefitter.TrajectoryInEvent = true

    # Nuclear Seeding
    include "RecoVertex/NuclearInteractionProducer/data/NuclearInteraction.cff"

    #Tracking truth
    include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"
    replace trackingtruthprod.HepMCDataLabels = {"source"}

    module dump = EventContentAnalyzer{}

    module Out = PoolOutputModule
    {
     untracked string fileName = "file:single_pi_10gev.root"
     untracked vstring outputCommands = {
           "drop *",
           "keep CrossingFrame_*_*_*",
           "keep *_siStripDigis_*_*",
           "keep *_siPixelDigis_*_*",
           "keep *_siPixelClusters_*_*",
           "keep *_siStripClusters_*_*",
           "keep *_*_*_NUCLEAR",
           "keep *_trackingtruthprod_*_*"
#           "keep *_source_*_*"
     }
    }

   path p = {TrackRefitter, nuclear_interaction}

    #path p = { dump }

   endpath e =
   {
     Out
   }
}
