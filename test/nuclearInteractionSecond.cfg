process NUCLEAR =  {
    service = MessageLogger
    {
                untracked vstring destinations = { "cout", "out2" } # .log automatically
              #  untracked vstring statistics = { "cout", "nuclearseeding"}

                untracked vstring categories = { "NuclearSeedGenerator", "CkfPattern" }

                untracked PSet out2    = {
                        untracked string threshold = "DEBUG"
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked PSet NuclearSeedGenerator = { untracked int32 limit = -1}
                        untracked PSet CkfPattern = { untracked int32 limit = -1}
                        untracked bool noLineBreaks = true
                }
                untracked vstring debugModules = { "nuclearSeed", "ckfTrackCandidates" }

                untracked PSet cout  = {
                        untracked string threshold = "INFO"
                        untracked PSet INFO = { untracked int32 limit = 0 }
                        untracked PSet WARNING = { untracked int32 limit = 0 }
                        untracked PSet ERROR = { untracked int32 limit = 0 }
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked bool noLineBreaks = true
                }

    }

    source = PoolSource
    {
      untracked vstring fileNames = {
                 'rfio:/castor/cern.ch/cms/store/RelVal/2007/6/30/RelVal-RelVal151QCD_pt120_170-1183231184/0000/08D23DEB-6527-DC11-97FF-000423D99C2A.root'}
                 #'rfio:/castor/cern.ch/user/r/roberfro/CMSSW_1_5_0/singlepi20gev1.root'}
    }

    untracked PSet maxEvents = {untracked int32 input = 300}

    # Refitter
    include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
    replace TrackRefitter.TrajectoryInEvent = true

    # Nuclear Seeding
    include "RecoTracker/NuclearSeedGenerator/data/NuclearInteractionSecond.cff"

    module dump = EventContentAnalyzer{}

    module Out = PoolOutputModule
    {
     untracked string fileName = "qcd_120_170_second.root"
     untracked vstring outputCommands = {
           "drop *",
           "keep *_*_*_NUCLEAR",
           "keep *_ctfWithMaterialTracks_*_*",
           "keep *_trackingParticles_*_*"
     }
    }

   path p = {TrackRefitter, nuclear_interaction_second}

   # path p = { dump }

   endpath e =
   {
     Out
   }
}
