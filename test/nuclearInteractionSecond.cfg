process NUCLEAR =  {
    service = MessageLogger
    {
                untracked vstring destinations = { "cout", "out" } # .log automatically
              #  untracked vstring statistics = { "cout", "nuclearseeding"}

                untracked vstring categories = { "NuclearSeedGenerator", "CkfPattern", "NuclearInteractionMaker" }

                untracked PSet out    = {
                        untracked string threshold = "DEBUG"
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked PSet NuclearSeedGenerator = { untracked int32 limit = -1}
                        untracked PSet CkfPattern = { untracked int32 limit = -1}
                        untracked PSet NuclearInteractionMaker = { untracked int32 limit = -1}
                        untracked bool noLineBreaks = true
                }
                untracked vstring debugModules = { "nuclearSeed", "ckfTrackCandidates" , "nuclearInteractionMaker"}

                untracked PSet cout  = {
                        untracked string threshold = "INFO"
                        untracked PSet INFO = { untracked int32 limit = 0 }
                        untracked PSet WARNING = { untracked int32 limit = 0 }
                        untracked PSet ERROR = { untracked int32 limit = 0 }
                        untracked PSet DEBUG = { untracked int32 limit = 0 }
                        untracked bool noLineBreaks = true
                }

    }


    source = PoolSource
    {
      untracked vstring fileNames = {
                 'rfio:/castor/cern.ch/cms/store/mc/2007/11/19/RelVal-RelValSinglePiPlusPt100-1195478550/0000/E0374DC4-3D97-DC11-9DAE-000423D992DC.root'}
                 #'rfio:/castor/cern.ch/user/r/roberfro/CMSSW_1_5_0/singlepi20gev1.root'}
    }

    untracked PSet maxEvents = {untracked int32 input = 100}

    #include "Configuration/StandardSequences/data/FakeConditions.cff"
     # Tracker alignment
 #
 include "CalibTracker/Configuration/data/Tracker_FakeAlignment.cff"
 #
 ###################################################################
 #
 # Pixel calib
 #
 include "CalibTracker/Configuration/data/SiPixel_FakeGain.cff"
 #
 # Strip calib
 #
 include "CalibTracker/Configuration/data/SiStrip_FakeGain.cff"
 include "CalibTracker/Configuration/data/SiStrip_FakeNoise.cff"
 include "CalibTracker/Configuration/data/SiStrip_FakePedestals.cff"
 include "CalibTracker/Configuration/data/SiStrip_FakeLorentzAngle.cff"


  # Reconstruction
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
  include "CalibTracker/SiStripLorentzAngle/data/SiStripLAFakeESSource.cfi"


    # Refitter
    include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
    replace TrackRefitter.TrajectoryInEvent = true

    # Nuclear Seeding
    include "RecoVertex/NuclearInteractionProducer/data/NuclearInteractionSecond.cff"

    module dump = EventContentAnalyzer{}

    module Out = PoolOutputModule
    {
     untracked string fileName = "qcd_120_170_second.root"
     untracked vstring outputCommands = {
           "drop *",
           "keep *_*_*_NUCLEAR",
           "keep *_ctfWithMaterialTracks_*_*",
           "keep *_trackingParticles_*_*"
     }
    }

   path p = {TrackRefitter, nuclear_interaction_second}

   # path p = { dump }

   endpath e =
   {
     Out
   }
}
